package gameV3.player

import gameV3.entities.Entity
import gameV3.entities.allies.Ally
import gameV3.main.Game
import gameV3.room.Room

class Player(
    name: String,
    description: String = "Игрок",
    health: Int = 100,
    attackPower: Int = 10,
    defensePower: Int = 5,
    level: Int = 100,
    var experience: Int = 0,
    var gold: Int = 0
//    var inventory: Inventory,
//    var allies: List<Ally>
) : Entity(name, description, health, attackPower, defensePower, level)
{
    var inventory = Inventory()
    var allies = listOf<Ally>()
    var astral = Astral()

    fun addXP(xp: Int) {
        experience += xp
        if (experience >= level * 100) {
            levelUp();
            println("$name повышает свой уровень!")
        }
    }

    fun increaseStats() {
        attackPower += 2;
        defensePower += 1;
        health += 20;
    }

    fun levelUp() {
        level++
        experience -= level * 100
        increaseStats()
    }

    override fun performAction(game: Game, room: Room) {
        val enemies = room.enemies
        val allies = this.allies
        when (game.gameStage) {
            1 -> {
                
            }
            2 -> {

            }
            3 -> {

            }
            4 -> {

            }
            5 -> {

            }
        }
    }

}